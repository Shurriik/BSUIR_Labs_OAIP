# Система учета автомобилей в таксопарке

Программа для учета и управления автомобилями в таксопарке с графическим интерфейсом на Qt 6.

## Требования

- C++17 или выше
- Qt 6 (Core, Widgets)
- CMake 3.16 или выше
- Компилятор с поддержкой C++17

## Структура проекта

```
kursach/
├── core/              # Базовые классы и логика
│   ├── Vehicle.h/cpp  # Базовый класс транспортного средства
│   ├── List.h         # Двунаправленный список
│   ├── Order.h/cpp    # Класс заказа
│   └── OrderList.h/cpp # Список заказов
├── vehicles/          # Классы транспортных средств
│   ├── TaxiVehicle.h/cpp
│   ├── EconomyCar.h/cpp
│   ├── ComfortCar.h/cpp
│   ├── BusinessCar.h/cpp
│   └── Minivan.h/cpp
├── exceptions/        # Классы исключений
│   └── TaxiParkException.h/cpp
├── storage/           # Работа с файлами
│   └── FileManager.h/cpp
├── ui/                # Графический интерфейс
│   ├── MainWindow.h/cpp
│   ├── VehicleForm.h/cpp
│   ├── OrdersWindow.h/cpp
│   ├── OrderForm.h/cpp
│   └── StatisticsWindow.h/cpp
├── main.cpp
└── CMakeLists.txt
```

## Сборка

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

## Функциональность

### Управление автомобилями
- Добавление, редактирование, удаление автомобилей
- Фильтрация по марке, модели, статусу, типу
- Автоматическое определение необходимости ТО
- Отображение автомобилей, требующих обслуживания

### Типы транспортных средств
- **Эконом класс** - базовые параметры и цена
- **Комфорт класс** - климат-контроль
- **Бизнес класс** - кожаные сиденья, премиум аудио
- **Минивэн** - детские кресла, объем багажа

### Управление заказами
- Создание заказов на определенное время
- Проверка доступности автомобилей
- Календарь заказов
- Просмотр заказов по датам

### Статистика
- Общая статистика по парку
- Статистика по типам ТС
- Количество автомобилей на линии, в парке, в ремонте
- Количество заказов

### Хранение данных
- Все данные сохраняются в папке `data` в корне проекта
- Автомобили сохраняются в отдельные папки по типам:
  - Эконом класс: `data/economy/vehicle_<id>.txt`
  - Комфорт класс: `data/comfort/vehicle_<id>.txt`
  - Бизнес класс: `data/business/vehicle_<id>.txt`
  - Минивэн: `data/minivan/vehicle_<id>.txt`
- Заказы сохраняются в файл `data/orders_data.txt`
- Автоматическая загрузка при запуске
- Папка `data` и подпапки создаются автоматически при первом запуске

## Архитектура

### Трехуровневое наследование
1. **Vehicle** - базовый класс (id, марка, модель, год, госномер, пробег, статус)
2. **TaxiVehicle** - средний уровень (тип ТС, количество мест, категория)
3. **Конкретные классы** - EconomyCar, ComfortCar, BusinessCar, Minivan

### Двунаправленный список
Реализован собственный класс `List<T>` с поддержкой итераторов и основных операций.

### Обработка исключений
Собственный класс `TaxiParkException` с различными типами ошибок:
- FILE_ERROR
- INVALID_INPUT
- NOT_FOUND
- DUPLICATE_ENTRY
- INVALID_OPERATION
- DATA_CORRUPTION

## Использование

1. Запустите программу
2. Добавьте автомобили через кнопку "Добавить авто"
3. Создавайте заказы через "Новый заказ"
4. Просматривайте статистику через "Статистика"
5. Сохраняйте данные через "Сохранить" (также автоматически при закрытии)

## Примечания

- Данные сохраняются в папке `data/` в корне проекта:
  - Автомобили по типам: `data/economy/`, `data/comfort/`, `data/business/`, `data/minivan/`
  - Заказы: `data/orders_data.txt`
- Папка `data` и подпапки создаются автоматически при первом запуске программы
- Автомобили, требующие ТО, выделяются желтым цветом в таблице
- Заказы отображаются в календаре по выбранной дате

